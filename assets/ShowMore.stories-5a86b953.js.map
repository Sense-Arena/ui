{"version":3,"file":"ShowMore.stories-5a86b953.js","sources":["../../src/components/show-more/ShowMore.tsx"],"sourcesContent":["import { animated, config, useTransition } from '@react-spring/web';\nimport { ReactNode, useCallback, useEffect, useState } from 'react';\nimport { Button, ButtonProps } from '../button';\nimport { smButtonWrap } from './show-more.style.css';\n\ntype Props = {\n  items: {\n    child: ReactNode;\n    key: string;\n  }[];\n  visible: number;\n  className?: string;\n  btnProps?: ButtonProps;\n};\n\nexport const ShowMore = ({ items, visible, className, btnProps = {} }: Props) => {\n  const [visibleItems, setVisible] = useState(items.slice(0, visible));\n\n  useEffect(() => {\n    setVisible(items.slice(0, visible));\n  }, [visible]);\n\n  const transitions = useTransition(visibleItems, {\n    from: {\n      transform: 'scale(0)',\n    },\n    enter: {\n      transform: 'scale(1)',\n    },\n    trail: 400 / visibleItems.length,\n    unique: true,\n    config: config.molasses,\n    keys: i => i.key,\n  });\n\n  const showAll = useCallback(() => {\n    setVisible(v => v.concat(items.slice(visible)));\n  }, [items, visible]);\n\n  return (\n    <>\n      <div className={className}>\n        {transitions((style, item) => (\n          <animated.div style={style}>{item.child}</animated.div>\n        ))}\n      </div>\n      {visibleItems.length === items.length ? null : (\n        <div className={smButtonWrap}>\n          <Button color=\"outline\" onClick={showAll} style={{ marginTop: '1.5rem' }} {...btnProps}>\n            Show all\n          </Button>\n        </div>\n      )}\n    </>\n  );\n};\n"],"names":["ShowMore","items","visible","className","btnProps","visibleItems","setVisible","useState","useEffect","transitions","useTransition","config","i","showAll","useCallback","v","React","style","item","animated","smButtonWrap","Button"],"mappings":"6eAeO,MAAAA,EAAA,CAAA,CAAA,MAAAC,EAAA,QAAAC,EAAA,UAAAC,EAAA,SAAAC,EAAA,CAAA,KAAA,CACL,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAAN,EAAA,MAAA,EAAAC,CAAA,CAAA,EAEAM,EAAAA,UAAA,IAAA,CACEF,EAAAL,EAAA,MAAA,EAAAC,CAAA,CAAA,CAAkC,EAAA,CAAAA,CAAA,CAAA,EAGpC,MAAAO,EAAAC,EAAAL,EAAA,CAAgD,KAAA,CACxC,UAAA,UACO,EACb,MAAA,CACO,UAAA,UACM,EACb,MAAA,IAAAA,EAAA,OAC0B,OAAA,GAClB,OAAAM,EAAA,SACO,KAAAC,GAAAA,EAAA,GACF,CAAA,EAGfC,EAAAC,EAAAA,YAAA,IAAA,CACER,EAAAS,GAAAA,EAAA,OAAAd,EAAA,MAAAC,CAAA,CAAA,CAAA,CAA8C,EAAA,CAAAD,EAAAC,CAAA,CAAA,EAGhD,OAAAc,EAAA,cAAAA,EAAA,SAAA,KAAAA,EAAA,cAAA,MAAA,CAAA,UAAAb,CAAA,EAAAM,EAAA,CAAAQ,EAAAC,IAAAF,EAAA,cAAAG,EAAA,IAAA,CAAA,MAAAF,CAAA,EAAAC,EAAA,KAAA,CAAA,CAAA,EAAAb,EAAA,SAAAJ,EAAA,OAAA,KAAAe,EAAA,cAAA,MAAA,CAAA,UAAAI,CAAA,EAAAJ,EAAA,cAAAK,EAAA,CAAA,MAAA,UAAA,QAAAR,EAAA,MAAA,CAAA,UAAA,QAAA,EAAA,GAAAT,CAAA,EAAA,UAAA,CAAA,CAAA,CAgBF;;;;;;;;;;;;;;;;;;;;;;;;;;;"}