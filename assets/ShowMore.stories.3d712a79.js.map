{"version":3,"file":"ShowMore.stories.3d712a79.js","sources":["../../src/components/show-more/ShowMore.tsx"],"sourcesContent":["import { animated, config, useTransition } from '@react-spring/web';\nimport { ReactNode, useCallback, useEffect, useState } from 'react';\nimport { Button, ButtonProps } from '../button';\nimport { smButtonWrap } from './show-more.style.css';\n\ntype Props = {\n  items: {\n    child: ReactNode;\n    key: string;\n  }[];\n  visible: number;\n  className?: string;\n  btnProps?: ButtonProps;\n};\n\nexport const ShowMore = ({ items, visible, className, btnProps = {} }: Props) => {\n  const [visibleItems, setVisible] = useState(items.slice(0, visible));\n\n  useEffect(() => {\n    setVisible(items.slice(0, visible));\n  }, [visible]);\n\n  const transitions = useTransition(visibleItems, {\n    from: {\n      transform: 'scale(0)',\n    },\n    enter: {\n      transform: 'scale(1)',\n    },\n    trail: 400 / visibleItems.length,\n    unique: true,\n    config: config.molasses,\n    keys: i => i.key,\n  });\n\n  const showAll = useCallback(() => {\n    setVisible(v => v.concat(items.slice(visible)));\n  }, [items, visible]);\n\n  return (\n    <>\n      <div className={className}>\n        {transitions((style, item) => (\n          <animated.div style={style}>{item.child}</animated.div>\n        ))}\n      </div>\n      {visibleItems.length === items.length ? null : (\n        <div className={smButtonWrap}>\n          <Button color=\"outline\" onClick={showAll} style={{ marginTop: '1.5rem' }} {...btnProps}>\n            Show all\n          </Button>\n        </div>\n      )}\n    </>\n  );\n};\n"],"names":["ShowMore","items","visible","className","visibleItems","setVisible","useState","useEffect","transitions","useTransition","length","config","molasses","key","showAll","useCallback","_jsxs","_Fragment","_jsx","style","item","animated","child","smButtonWrap","btnProps"],"mappings":"+ZAeO,MAAAA,EAAA,CAAA,CAAkB,MAAAC,EAAEA,QAAAA,EAAOC,UAAAA,EAASC,SAAAA,EAAAA,CAAAA,CAAlB,IAAA,CACvB,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,QAAA,SAAAL,EAAA,MAAA,EAAAC,CAAA,CAAA,EAEAK,EAAAA,QAAAA,UAAAA,IAAAA,CACEF,EAAAA,EAAAA,MAAAA,EAAAA,CAAAA,CAAAA,CAAU,EAAA,CAAAH,CAAA,CAAA,EAGZ,MAAAM,EAAAC,EAAAL,EAAA,CAAgD,KAAA,CACxC,UAAA,UACO,EADP,MAAA,CAGC,UAAA,UACM,EADN,MAAA,IAAAA,EAAA,OAGmBM,OAAAA,GAClB,OAAAC,EAAA,SACOC,KAAAA,GAAAA,EAAAA,GACFC,CAAAA,EAGfC,EAAAC,EAAAA,QAAAA,YAAA,IAAA,CACEV,EAAAA,GAAAA,EAAAA,OAAAA,EAAAA,MAAAA,CAAAA,CAAAA,CAAAA,CAAU,EAAA,CAAAJ,EAAAC,CAAA,CAAA,EAGZ,OAAAc,EAAAC,EAAA,CACE,SAAA,CAAAC,EAAA,MAAA,CACE,UAAAf,EAAK,SAAAK,EAAA,CAAAW,EAAAC,IAAAF,EAAAG,EAAA,IAAA,CAED,MAAAF,EAAc,SAAAC,EAAA,KAAoBE,CAAAA,CAAAA,CADxB,CAAA,EAAAlB,EAAA,SAAAH,EAAA,OAAA,KAAAiB,EAAA,MAAA,CAKZ,UAAAK,EAAgBA,SAAAA,EAAAA,EAAAA,CACd,MAAA,UAAc,QAAAT,EAAmBA,MAAAA,CAAgB,UAAA,QAAa,EAAb,GAAAU,EAA6BA,SAAAA,UAA9E,CAAA,CAAA,CAAA,CAAA,CARN,CAAA,CAeH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}